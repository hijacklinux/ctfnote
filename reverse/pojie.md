---
layout: default
---
# ![](../img/hj.jpg)逆向工程-PC逆向-破解-网络验证的破解思路
>小贱提示： 其实破解只是逆向工程的一小部分，仅仅搞懂破解只能说逆向工程刚刚入了个门，希望读者万不可觉得会破解就掌握了逆向，只能说还差得太远。而且市面上多数外挂多数都使用易语言写的，而ctf比赛中几乎不可能有易语言写的题目。

## ![](../img/github13.png)山寨法
### 山寨网络验证常见问题：
```
找不到服务器：
运行程序，打开封包助手，打开进程，看hex区
```
### 山寨需要的数据
```
服务器地址
版本
软件编号
静态数据
```
## ![](../img/github14.png)push大法
### 绕过网络验证登录，显示其他窗体
```
右键查找二进制字符串，搜索hex，ff 25，易语言特征，
向上看那个过程，在第一个加载的窗体id下断(push xxxxxxxx)，
这个窗体id是总窗口，我们需要登录后的窗口，右键查找命令，
push 10001，找到需要的窗口id（如果不是需要的窗体，查找下一个10001），
这样两个id都知道了，把第一个push窗口id换成登录成功那个id就可跳过登录。
```
### push法窗体id找不到怎么办
```
每个push段都有一个call，回车call会去jmp xxx的易语言体，
主要在所有jmp处下断，看堆栈就能找到窗体id，如果有没加壳的窗体，可以依照它结合堆栈还原窗体
```
## ![](../img/github15.png)特征码爆破
### 爆破易语言网络验证文本比较
>小贱提示：
>
>说实话，小贱个人对这种特征码方法略鄙视，可能是看不惯有太多的人没什么技术，只会破解，然后就开始炫耀吧，但还不得不承认，这的确是方法，但学不到任何东西
```
test edx,3,断下，看eax，是0的话改成1运行。又断下了，堆栈反汇编跟随。f2下断，运行，断下，eax为0了，赋值为1，取消刚刚断点，运行，（退出的话就干掉退出），断下，堆栈反汇编跟随，f2,再次更改eax，取消刚刚的断点，运行
(其实说白了，就是test edx,3存在于一个call里，跳出call，看返回值eax，并修改）
或者test edx,3补码，找00000000000000定位，写入：
test edx,3
mov eax,1
retn xx是当前段返回地址
干掉退出
同理，把之前需要改eax的，全部补码mov eax，xx，retn xx
在复制来源处跳到补码处
```
## ![](../img/github16.png)搜‘到期’公告

>小贱提示：
>
>不知名网络验证爆破,找成功关键词，如到期，向上找大跳转，一般找两个就差不多了
>
>Alt+M搜公告，上面就是软件码和版本号,还可以查找注释，查找字串

## ![](../img/github17.png)大跳转爆破
## ![](../img/github17.png)DIY补数据
## ![](../img/github17.png)按钮事件
## ![](../img/github17.png)send recv
## ![](../img/github17.png)网络验证转本地
>小贱提示：
>
>不知名网络验证（例返回帐号是否存在或登录）（适用于无服务端源码即非典型网络验证）：


### 截获法（需有正版数据）
```
step1：od载入，ctr g，send，尽量不在段首下断，在中间或段尾，f9，用正确号点登录，
断下，执行到retn，看堆栈，看发送了什么，取消send断点，再下recv接收封包断点，f9断下，
执行到retn，看堆栈，跟随数据，看接收了什么，没有需要的继续反复运行。
找到正确返回值并保存在笔记本中。记住第n次找到的。

step2：重新载入，用假码登录，同样在第n次停下，把正版返回值粘贴到程序里。
但是这是个堆栈位置，
如何打补丁呢？
在返回值首处下内存访问断点，访问了数据，下面需要解码了，f8跟踪解密。
```
### 网络验证转本地法（需有正版数据）
```
step1：打开程序，打开srsniffer，只勾选目标程序，用正码登录，查看截获的数据，
复制出来十六进制正确返回数据再换成正常字符，保存一个文件到本地，文件名就叫请求的那个文件名。
step2：架本地服务器：.aspweb.exe，文件放在可访问目录
step3：ip转向工具，在右下角，拦截设置，把正版地址转到127.0.0.1，右键，开始拦截
(就是开始转向）
step4：用假码登录，成功
```
# ![](../img/hj.jpg)
>小贱总结：
>
>破解跟逆向工程还是有很大的差别的，破解只是逆向工程的一个小小的基础
>
>逆向工程需要研究的东西很多，需要研究算法等等。
>
>破解的关键就是找到关键代码，进而修改代码，甚至不用去研究算法，当然这只是破解的一种方法




__原创文章，转载请注明转载自[http://www.8pwn.com](http://www.8pwn.com)__

[返回上一层](./reverse)
